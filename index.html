<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  
  <!-- Créé par Iban -->
  
  <!-- Viewport iOS -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

  <!-- Web app iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Senpai Stream">

  <title>Senpai Stream</title>

  <!-- Icône iOS -->
  <link rel="apple-touch-icon" href="icon.png">
</head>

<body>

  <script>
    (async () => {
      const targetUrl = "https://senpai.wiki/";
      const proxyUrl = "https://api.allorigins.win/raw?url=" + encodeURIComponent(targetUrl);

      try {
        const res = await fetch(proxyUrl);
        const html = await res.text();

        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const link = doc.querySelector("a.url-display");
        const url = link ? link.href : null;

        console.log("Une URL a été trouvée :", url);

        if (url) {
          window.location.replace(url);
        } else {
          alert("Impossible de trouver le lien !");
        }

      } catch (e) {
        console.error("Échec :", e);
        alert("Erreur lors de la récupération du lien !");
      }
    })();
  </script>

</body>
</html>
